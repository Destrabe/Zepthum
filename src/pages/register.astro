---
import Layout from "../layouts/loginLayout.astro";
export const prerender = false;
---

<Layout title="Zepthum - Register">
  <div class="split-container">
    <div class="left-side">
      <div class="container">
        <div class="main">
          <div class="header">
            <!--Logo -->
            <div class="logo">
              <img
                src="/src/assets/svg/logo_tem.svg"
                class="logo-img"
                alt="Logo"
              />
              <span class="logo-name">Zepthum</span>
            </div>
            <!--Texto de bienvenida -->
            <span class="welcome-text">
              Productividad impulsada por la competencia.
            </span>
            <span class="welcome-subtext">
              Gana puntos y lidera el ranking.</span
            >
          </div>
          <!--Formulario -->
          <div class="form-section">
            <div class="form-container">
              <h1>Crea una cuenta</h1>
              <form id="register-form">
                <div class="input-group">
                  <label for="username">Usuario</label>
                  <input type="text" id="username" name="username" required />
                </div>
                <div class="input-group">
                  <label for="correo">Correo</label>
                  <input type="email" id="correo" name="email" required />
                </div>
                <div class="input-group">
                  <label for="password">Contraseña</label>
                  <input
                    type="password"
                    id="password"
                    name="password"
                    required
                  />
                </div>
                <button id="submit" type="submit">Crear Cuenta</button>
              </form>
            </div>
            <div class="login">
              <p>¿Ya tienes Cuenta?</p>
              <a href="/login">¡Inicia sesion ahora!</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="right-side">
      <img src="/src/assets/images/iconKirby.webp" alt="Ilustración login" />
    </div>
  </div>
  <script type="module">
    import userService from "/src/scripts/userService.js";

    document
      .getElementById("register-form")
      .addEventListener("submit", async (e) => {
        e.preventDefault();
        const name = document.getElementById("username").value;
        const email = document.getElementById("correo").value;
        const password = document.getElementById("password").value;
        await userService.register(name, email, password);
      });
  </script>
</Layout>
